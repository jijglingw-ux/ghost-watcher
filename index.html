<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>PLUVO Wallet</title>
    <style>
        /* ================= åŸºç¡€é…ç½® ================= */
        :root {
            --bg-color: #0d0d0d;
            --card-bg: #1c1c1e;
            --card-highlight: #2c2c2e;
            --primary-gold: #F0B90B;
            --text-main: #ffffff;
            --text-sub: #8e8e93;
            --accent-red: #ff453a;
            --safe-area-bottom: env(safe-area-inset-bottom);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            background-color: #333;
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        /* æ‰‹æœºæ¨¡æ‹Ÿå®¹å™¨ */
        #app-container {
            width: 100%;
            height: 100%;
            background-color: var(--bg-color);
            color: var(--text-main);
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            box-shadow: 0 0 50px rgba(0,0,0,0.5);
        }

        @media (min-width: 450px) {
            #app-container {
                width: 414px; height: 896px;
                border-radius: 40px;
                max-height: 95vh;
                border: 8px solid #000;
            }
        }

        .hidden { display: none !important; }

        /* ================= 1. ç™»å½•é¡µ ================= */
        #page-login {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 40px;
            background: linear-gradient(160deg, #000 0%, #1a1a1a 100%);
            z-index: 100;
            transition: opacity 0.3s;
        }
        .brand-logo { 
            font-size: 42px; font-weight: 900; letter-spacing: -1px; margin-bottom: 10px; 
            background: linear-gradient(to right, #F0B90B, #ffeaa7);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }
        .brand-sub { font-size: 14px; color: var(--text-sub); margin-bottom: 60px; line-height: 1.5; }
        .btn-main {
            background: var(--primary-gold); color: #000; border: none; height: 56px; border-radius: 28px;
            font-size: 18px; font-weight: 700; width: 100%; cursor: pointer;
            box-shadow: 0 8px 20px rgba(240, 185, 11, 0.25);
        }
        .btn-main:active { transform: scale(0.96); }

        /* ================= 2. ä¸»é¡µ (é’±åŒ…) ================= */
        #page-home {
            flex: 1; display: flex; flex-direction: column;
            padding-bottom: calc(80px + var(--safe-area-bottom));
        }

        /* é¡¶éƒ¨å¯¼èˆª */
        .header-bar {
            padding: 20px 20px 10px 20px;
            display: flex; align-items: center; justify-content: space-between;
            background: rgba(13, 13, 13, 0.95); backdrop-filter: blur(10px); z-index: 10;
        }
        .search-wrapper {
            flex: 1; background: var(--card-bg); height: 40px; border-radius: 20px;
            display: flex; align-items: center; padding: 0 15px; margin-right: 15px;
        }
        .search-input { background: transparent; border: none; color: #fff; width: 100%; font-size: 14px; outline: none; }
        .btn-history {
            width: 40px; height: 40px; border-radius: 50%; background: var(--card-bg);
            display: flex; justify-content: center; align-items: center; font-size: 18px;
        }

        /* èµ„äº§åˆ—è¡¨ */
        .scroll-content { flex: 1; overflow-y: auto; padding: 10px 20px; }
        .section-header { font-size: 13px; font-weight: 600; text-transform: uppercase; color: var(--text-sub); margin: 20px 0 10px 0; }

        .asset-item {
            background: var(--card-bg); border-radius: 16px; padding: 20px; margin-bottom: 12px;
            display: flex; justify-content: space-between; align-items: center;
            border: 1px solid rgba(255,255,255,0.05);
        }
        .asset-icon { 
            width: 44px; height: 44px; border-radius: 12px; background: #333; margin-right: 12px;
            display: flex; align-items: center; justify-content: center; font-size: 20px;
        }
        .asset-name { font-size: 16px; font-weight: 600; color: #fff; display: block; }
        .asset-desc { font-size: 12px; color: var(--text-sub); margin-top: 4px; display: block; }
        .asset-amount { font-size: 18px; font-weight: 700; color: var(--primary-gold); font-family: monospace; }
        .asset-fiat { font-size: 12px; color: var(--text-sub); margin-top: 4px; text-align: right; }

        /* ================= 3. åº•éƒ¨å¯¼èˆª (3ä¸ªæŒ‰é’®) ================= */
        .bottom-nav {
            position: absolute; bottom: 0; left: 0; width: 100%;
            height: calc(80px + var(--safe-area-bottom)); padding-bottom: var(--safe-area-bottom);
            background: rgba(18, 18, 18, 0.95); backdrop-filter: blur(20px);
            border-top: 1px solid rgba(255,255,255,0.05);
            display: grid; grid-template-columns: 1fr 1fr 1fr; /* ä¸‰ç­‰åˆ† */
            z-index: 50;
        }

        .nav-btn {
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            opacity: 0.5; transition: 0.2s;
        }
        .nav-btn.active { opacity: 1; }
        .nav-btn.active .nav-icon { color: var(--primary-gold); }
        .nav-btn:active { transform: scale(0.95); }
        
        .nav-icon { font-size: 24px; margin-bottom: 4px; color: #fff; }
        .nav-label { font-size: 10px; font-weight: 500; }

        /* ç‰¹æ®Šå¤„ç†æ‰«ç å›¾æ ‡ */
        .nav-icon-scan {
            width: 44px; height: 44px; border-radius: 14px; background: var(--card-highlight);
            display: flex; align-items: center; justify-content: center;
            border: 1px solid #444; margin-bottom: 4px;
        }

        /* ================= 4. å¼¹çª— (Sheet - æˆ‘çš„) ================= */
        .sheet-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6); z-index: 200;
            opacity: 0; pointer-events: none; transition: opacity 0.3s;
        }
        .sheet-overlay.active { opacity: 1; pointer-events: auto; }

        .sheet-modal {
            position: absolute; bottom: 0; left: 0; width: 100%;
            max-height: 85%; /* å…è®¸æ‹‰å¾—æ¯”è¾ƒé«˜ */
            background: #1c1c1e;
            border-top-left-radius: 24px; border-top-right-radius: 24px;
            padding: 24px; padding-bottom: calc(40px + var(--safe-area-bottom));
            transform: translateY(100%); transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
            overflow-y: auto; /* å…è®¸å†…éƒ¨æ»šåŠ¨ */
        }
        .sheet-overlay.active .sheet-modal { transform: translateY(0); }

        /* Sheet Handle */
        .sheet-handle { width: 40px; height: 4px; background: #444; border-radius: 2px; margin: 0 auto 20px auto; }

        /* ä¸ªäººä¿¡æ¯å¡ç‰‡ */
        .profile-card { display: flex; align-items: center; margin-bottom: 25px; }
        .avatar { width: 64px; height: 64px; border-radius: 50%; background: #333; margin-right: 16px; font-size: 28px; display: flex; align-items: center; justify-content: center;}
        .user-info h2 { font-size: 20px; font-weight: 700; color: #fff; }
        .user-id { font-size: 13px; color: var(--text-sub); margin-top: 4px; font-family: monospace; background: #000; padding: 4px 8px; border-radius: 4px; display: inline-block;}

        /* äºŒç»´ç ç›’å­ */
        .qr-box {
            background: #fff; padding: 20px; border-radius: 16px; text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3); margin-bottom: 30px;
        }
        .qr-img { width: 160px; height: 160px; margin: 0 auto; background-image: url('https://api.qrserver.com/v1/create-qr-code/?size=160x160&data=PLUVO_ID_888888'); background-size: cover; }
        .qr-caption { color: #000; font-size: 14px; font-weight: 700; margin-top: 15px; }

        /* èœå•åˆ—è¡¨ (è®¾ç½®/é€€å‡º) */
        .menu-list { border-top: 1px solid #333; padding-top: 10px; }
        .menu-item {
            display: flex; justify-content: space-between; align-items: center;
            padding: 18px 0; border-bottom: 1px solid #2c2c2e; font-size: 16px; color: #fff;
            cursor: pointer;
        }
        .menu-item:active { opacity: 0.6; }
        .menu-item.logout { color: var(--accent-red); border-bottom: none; justify-content: center; margin-top: 20px; font-weight: 600; }
        .arrow { color: #555; font-size: 14px; }

        /* ================= 5. å…¨å±ç›¸æœº ================= */
        .camera-full {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 300; display: flex; flex-direction: column;
            transform: translateY(100%); transition: transform 0.3s;
        }
        .camera-full.active { transform: translateY(0); }
        .cam-view {
            flex: 1; position: relative;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%"><rect width="100%" height="100%" fill="%23222"/></svg>');
        }
        .scan-frame {
            width: 260px; height: 260px; border: 2px solid rgba(255,255,255,0.3);
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -60%);
            border-radius: 20px; overflow: hidden;
        }
        .scan-laser {
            position: absolute; width: 100%; height: 2px; background: var(--primary-gold);
            top: 10%; box-shadow: 0 0 15px var(--primary-gold);
            animation: scanning 2s infinite ease-in-out;
        }
        @keyframes scanning { 0% { top: 10%; opacity: 0; } 50% { opacity: 1; } 100% { top: 90%; opacity: 0; } }
        .btn-close-cam {
            position: absolute; bottom: 60px; left: 50%; transform: translateX(-50%);
            width: 60px; height: 60px; border-radius: 50%; background: rgba(255,255,255,0.2);
            display: flex; justify-content: center; align-items: center; font-size: 24px; color: #fff;
        }

    </style>
</head>
<body>

    <div id="app-container">
        
        <!-- é¡µé¢1: ç™»å½• -->
        <div id="page-login">
            <div class="brand-logo">PLUVO</div>
            <div class="brand-sub">CONSUMPTION AS MINING<br>ç®—æ³•å®šä¹‰å®ä½“ä»·å€¼</div>
            <button class="btn-main" onclick="appLogin()">è¿æ¥é’±åŒ… (Connect)</button>
        </div>

        <!-- é¡µé¢2: ä¸»é¡µ (é’±åŒ…) -->
        <div id="page-home" class="hidden">
            <!-- å¤´éƒ¨ -->
            <div class="header-bar">
                <div class="search-wrapper">
                    <span style="opacity:0.5; margin-right:8px">ğŸ”</span>
                    <input type="text" class="search-input" placeholder="æœç´¢å‡­è¯...">
                </div>
                <div class="btn-history">ğŸ•’</div>
            </div>

            <!-- èµ„äº§åˆ—è¡¨ -->
            <div class="scroll-content">
                <div class="section-header">æˆ‘çš„èµ„äº§ (Assets)</div>
                
                <div class="asset-item">
                    <div style="display:flex; align-items:center">
                        <div class="asset-icon">ğŸœ</div>
                        <div><span class="asset-name">æ——èˆ°åº— (VIP)</span><span class="asset-desc">æƒç›Š: ä¼˜å…ˆå›è´­</span></div>
                    </div>
                    <div><div class="asset-amount">50,000</div><div class="asset-fiat">â‰ˆ Â¥ 150.00</div></div>
                </div>

                <div class="asset-item">
                    <div style="display:flex; align-items:center">
                        <div class="asset-icon">ğŸ¥š</div>
                        <div><span class="asset-name">è€å¼ ç‰›è‚‰é¢</span><span class="asset-desc">æƒç›Š: å¤è›‹/æ±¤åº•</span></div>
                    </div>
                    <div><div class="asset-amount">1,200</div><div class="asset-fiat">â‰ˆ Â¥ 12.00</div></div>
                </div>

                <div class="asset-item">
                    <div style="display:flex; align-items:center">
                        <div class="asset-icon">â˜•</div>
                        <div><span class="asset-name">æ˜Ÿå·´å…‹ (åˆä½œ)</span><span class="asset-desc">æƒç›Š: å‡æ¯åˆ¸</span></div>
                    </div>
                    <div><div class="asset-amount">300</div><div class="asset-fiat">â‰ˆ Â¥ 3.00</div></div>
                </div>
                
                <!-- åº•éƒ¨ç•™ç™½ï¼Œé˜²æ­¢è¢«å¯¼èˆªæ é®æŒ¡ -->
                <div style="height: 50px;"></div>
            </div>

            <!-- 3. åº•éƒ¨å¯¼èˆªæ  -->
            <div class="bottom-nav">
                <!-- å·¦ï¼šæ‰«ç  -->
                <div class="nav-btn" onclick="toggleCamera(true)">
                    <div class="nav-icon">ğŸ“·</div>
                    <span class="nav-label">æ‰«ç æ ¸é”€</span>
                </div>

                <!-- ä¸­ï¼šèµ„äº§ (é»˜è®¤é«˜äº®) -->
                <div class="nav-btn active">
                    <div class="nav-icon">ğŸ’°</div>
                    <span class="nav-label">æŒæœ‰èµ„äº§</span>
                </div>

                <!-- å³ï¼šæˆ‘çš„ -->
                <div class="nav-btn" onclick="toggleSheet('me', true)">
                    <div class="nav-icon">ğŸ‘¤</div>
                    <span class="nav-label">æˆ‘çš„è´¦æˆ·</span>
                </div>
            </div>
        </div>

        <!-- 4. å¼¹çª— (æˆ‘çš„) -->
        <div id="sheet-me" class="sheet-overlay" onclick="toggleSheet('me', false)">
            <div class="sheet-modal" onclick="event.stopPropagation()">
                <div class="sheet-handle"></div>
                
                <!-- å¤´éƒ¨ä¿¡æ¯ -->
                <div class="profile-card">
                    <div class="avatar">ğŸ˜</div>
                    <div class="user-info">
                        <h2>James Bond</h2>
                        <div class="user-id">ID: 0x8A...3F91</div>
                    </div>
                </div>
                
                <!-- äºŒç»´ç  -->
                <div class="qr-box">
                    <div class="qr-img"></div>
                    <div class="qr-caption">è®©å•†å®¶æ‰«æˆ‘ (æ”¶æ¬¾/æŒ–çŸ¿)</div>
                </div>

                <!-- å¾€ä¸‹æ‹‰çœ‹åˆ°çš„èœå• -->
                <div class="menu-list">
                    <div class="menu-item">
                        <span>ç³»ç»Ÿè®¾ç½® (Settings)</span>
                        <span class="arrow">â€º</span>
                    </div>
                    <div class="menu-item">
                        <span>å®‰å…¨ä¸­å¿ƒ (Security)</span>
                        <span class="arrow">â€º</span>
                    </div>
                    <div class="menu-item">
                        <span>å…³äº PLUVO</span>
                        <span class="arrow">â€º</span>
                    </div>
                    
                    <!-- é€€å‡ºæŒ‰é’® -->
                    <div class="menu-item logout" onclick="appLogout()">
                        é€€å‡ºç™»å½• (Log out)
                    </div>
                </div>
            </div>
        </div>

        <!-- 5. å…¨å±ç›¸æœº -->
        <div id="camera-page" class="camera-full">
            <div class="cam-view">
                <div class="scan-frame"><div class="scan-laser"></div></div>
                <div style="position:absolute; bottom:20%; width:100%; text-align:center; color:#fff;">æ‰«æå•†å®¶äºŒç»´ç </div>
            </div>
            <div class="btn-close-cam" onclick="toggleCamera(false)">âœ•</div>
        </div>

    </div>

    <script>
        // ç™»å½•
        function appLogin() {
            document.getElementById('page-login').classList.add('hidden');
            document.getElementById('page-home').classList.remove('hidden');
        }

        // é€€å‡ºç™»å½•
        function appLogout() {
            if(confirm('ç¡®å®šè¦é€€å‡ºå½“å‰è´¦æˆ·å—ï¼Ÿ')) {
                toggleSheet('me', false); // å…³å¼¹çª—
                setTimeout(() => {
                    document.getElementById('page-home').classList.add('hidden');
                    document.getElementById('page-login').classList.remove('hidden');
                }, 300);
            }
        }

        // å¼¹çª—æ§åˆ¶
        function toggleSheet(name, show) {
            const el = document.getElementById('sheet-' + name);
            if (show) el.classList.add('active');
            else el.classList.remove('active');
        }

        // ç›¸æœºæ§åˆ¶
        function toggleCamera(show) {
            const el = document.getElementById('camera-page');
            if (show) {
                el.classList.add('active');
                setTimeout(() => {
                    if(el.classList.contains('active')) {
                        alert("âœ… æ¨¡æ‹Ÿæ‰«ææˆåŠŸ");
                        toggleCamera(false);
                    }
                }, 3000);
            } else {
                el.classList.remove('active');
            }
        }
    </script>
</body>
</html>
